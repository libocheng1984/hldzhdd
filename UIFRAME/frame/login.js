var FrameVersion="20169.27.1324";if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(b){b.extend({getObjectInArray:function(e,c,f){if(isNull(f)||isNull(c)){return null}for(var d=0;d<e.length;d++){if(e[d][c]==f){return e[d];break}}return null},getDatagridTd:function(d,g,e){var c=d.datagrid("getPanel");var f=c.find('tr[datagrid-row-index="'+g+'"] td[field="'+e+'"]');return f},getDatagridLastTd:function(d,f){var c=d.datagrid("getPanel");var e=c.find('tr[datagrid-row-index="'+f+'"]:last  td:last');return e},getDatagridTr:function(d,f){var c=d.datagrid("getPanel");var e=c.find('tr[datagrid-row-index="'+f+'"]:last');return e},slideTo:function(d,g,f,c,e){if(!d){return}c=c||0.5;g=g?g:{};f.top=(f.top==0)?"0px":f.top;f.left=(f.left==0)?"0px":f.left;g.top=(g.top==0)?"0px":g.top;g.left=(g.left==0)?"0px":g.left;f.left?(g.left?d.css({left:g.left+(isNaN(g.left)?"":"px")}):null):null;f.top?(g.top?d.css({top:g.top+(isNaN(g.top)?"":"px")}):null):null;d.cssAnimate({left:f.left+(isNaN(f.left)?"":"px"),top:f.top+(isNaN(f.top)?"":"px")},c,null,e)}});b.fn.cssAnimate=function(g,e,c,f,d){b(this).each(function(){var m=b(this);if(!supportCss("transition")){if(d>0){m.stop(true).delay(d*1000).animate(g,e,c,f)}else{m.stop(true).animate(g,e*1000,c,f)}}else{var l="";for(var j in g){var k=j+" "+e+"s "+(c||"")+",";if(j.indexOf("transform")==0){k+="-webkit-"+j+" "+e+"s "+(c||"")+","}l+=k;getComputedStyle(m.get(0))[j]}l=l.substr(0,l.length-1);var n=b.extend({},g,{transition:l,"-webkit-transition":l});if(d&&d>0){n["transition-delay"]=d+"s";n["-webkit-transition-delay"]=d+"s"}var h="transitionend webkitTransitionEnd";m.unbind(h).one(h,function(){try{(typeof f=="function")?f():null
}catch(o){console.log(o)}});m.css(n)}});return b(this)};b.fn.endCssAnimate=function(){b(this).each(function(){var d=b(this);d.stop(true,true);var c="transitionend webkitTransitionEnd";d.unbind(c);d.css({transition:"none","-webkit-":"none"})});return b(this)};b.fn.beclick=function(c){b(this).unbind("click").bind("click",c);return b(this)};b.fn.rebind=function(d,c){b(this).unbind(d).bind(d,c);return b(this)};b.fn.reone=function(d,c){b(this).unbind(d).one(d,c);return b(this)};b.fn.scrollY=function(c){c=(c==null)?true:c;b(this).css({"overflow-y":!c?"hidden":"auto"});return b(this)};b.fn.scrollX=function(c){c=(c==null)?true:c;b(this).css({"overflow-x":!c?"hidden":"auto"});return b(this)};b.fn.toggleSelected=function(d){d=d?d:"nowid";var c=b(this);c.siblings().removeClass(d);c.addClass(d);return c};b.fn.disableSelect=function(){b(this).css({"-webkit-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","user-select":"none"}).attr("unselectable","on")};b.fn.del=function(){b(this).clear();b(this).unbind().empty().remove()};b.fn.clear=function(){b(this).each(function(){var c=b(this).get(0);b("*",c).add([c]).each(function(){b.event.remove(this);b.removeData(this)});c.innerHTML?c.innerHTML="":null});return b(this)};b.fn.enter=function(c){b(this).unbind("keydown").bind("keydown",function(d){if(d.keyCode==13){c()}});return b(this)};b.fn.changeValue=function(g){var f;var e=b(this);if(e.attr("type")=="radio"){e.each(function(){if(b(this).get(0).checked){f=b(this).val()}})}else{if(e.attr("type")=="checkbox"){e.each(function(){if(b(this).get(0).checked){f+=b(this).val()+","}});if(f.length>1){f=f.substr(0,f.length-1)}if(typeof g=="object"){f=f.split(",")}}else{f=e.val()}}if(compare(g,f)||(!isNull(g.value)&&g.value==f)){return}if(e.attr("type")=="radio"){var d=false;if(typeof g=="object"){g=g[0]}e.each(function(){if(b(this).get(0).value==g){b(this).get(0).checked=true;d=true;b(this).change()}else{b(this).get(0).checked=false}});if(!d){e.change()}}else{if(e.attr("type")=="checkbox"){if(typeof g=="string"){g=g.split(",")}e.val(g).change()}else{if(typeof g=="object"&&!isNull(g.text)&&!isNull(g.value)){var c=e.data("textinput");if(c){c.val(g.text)}e.val(g.value).change()}else{e.val(g).change()}}}return e};b.fn.checkPower=function(){if(!CHECKPOWER){return true}var c=b(this).powerFlag();return WINDOW.checkPower(c)};b.fn.powerFlag=function(g){var f="";var d=b(this);var h="data-allow";if(g){if(b.isArray(g)){for(var e=0;e<g.length;e++){f+=g[e]+"|"}if(f.length>1){f=f.substr(0,f.length-1)}}else{if(typeof g=="string"){f=g}}if(f){d.attr(h,f);return f.split("|")}else{d.removeAttr(h);return null}}else{var c=trim(d.attr(h));return(c&&c!="undefined")?c.split("|"):null}};b.fn.dataOptions=function(h,c){c=c?c:"data-option";if(h){try{var f=JSON.stringify(h);f=f.replace(/\"/g,"'");b(this).attr(c,f)}catch(g){}return}var d={};var f=b(this).attr(c)+"";try{f=f.replace(/\'/g,'"');d=JSON.parse(f)}catch(g){}return d};b.fn.getDataOptions=function(c){return b(this).dataOptions(null,c)};b.fn.setRealSize=function(c,d){b(this).each(function(){var e=b(this);if(c){e.width(Math.floor(c-(e.outerWidth(true)-e.width())))}if(d){e.height(Math.floor(d-(e.outerHeight(true)-e.height())))}});return b(this)};b.fn.fillParent=function(){b(this).each(function(){var f=b(this);var d=f.parent().css("overflow");f.parent().css("overflow","hidden");var c=f.parent().width();var e=f.parent().height();f.setRealSize(c,e);f.parent().css("overflow",d)});return b(this)};b.fn.centerInWindow=function(){b(this).css({left:Math.floor((b(window).width()-b(this).width())/2)+"px",top:Math.floor((b(window).height()-b(this).height())/2)+"px"});return b(this)};b.fn.getCenter=function(){var d=b(this).offset();var c=[Math.floor(d.left+b(this).outerWidth(true)/2)-b(window).scrollLeft(),Math.floor(d.top+b(this).outerHeight(true)/2)-b(window).scrollTop()];return c};b.fn.getBounce=function(){var c=b(this).offset();var d={x:Math.floor(c.left-b(window).scrollLeft()),y:Math.floor(c.top-b(window).scrollTop()),w:Math.floor(b(this).outerWidth()),h:Math.floor(b(this).outerHeight())};return d};b.fn.getMinSize=function(){var k=b(this);var d=k.css("min-width")+"";var g=k.css("min-height")+"";var c=k.css("width")+"";var f=k.css("height")+"";d=parseInt(d.replace("px",""))||0;g=parseInt(g.replace("px",""))||0;c=parseInt(c.replace("px",""))||0;f=parseInt(f.replace("px",""))||0;var e=k.get(0).style.flex+"";var l=e.split(" ");e=e?Number(l[0])||0:0;var j=0;if(e&&e!="NaN"){c=d||0;f=g||0;k.css({"-ms-flex":e+" "+(l[1]||1)+" "+(l[2]||"auto")});if(l[2]){j=parseInt(l[2].replace("px",""));c=Math.max(c,j);f=Math.max(f,j)}}else{c=Math.max(c,d);f=Math.max(f,g)}return{minw:c,minh:f}};b.fn.fillFont=function(c){b(this).each(function(){var e=b(this);if(e.data("fillfont")){return}var d=new fillWraperFont(e,c);e.data("fillfont",d)})};b.fn.resizeFillFont=function(){b(this).each(function(){var c=b(this).data("fillfont");if(c&&typeof c.resize=="function"){c.resize()}})};b.fn.fitImg=function(){b(this).each(function(){var c=b(this).width();
var f=b(this).height();var e=b(this).find(">img:eq(0)");if(e.length==0){return}var d;if(b(this).hasClass("fm_piccut")){d=b(this)}else{d=b('<div class="fm_piccut"></div>');e.after(d);d.css("overflow","hidden").width(c).height(f);d.append(e)}if(e.get(0).complete){a(e,c,f)}else{e.one("load",function(){a(e,c,f)}).one("error",function(){e.remove();d.addClass("fm_imagerror")});e.get(0).src=e.get(0).src}});return b(this)};function a(e,c,g){e.css({"margin-top":"0px","margin-left":"0px"});var f=e.width();var j=e.height();if(f>0&&j>0&&c>0&&g>0){}else{e.css({width:"100%",height:"100%"});return}if(f==c||j==g){return}if(j*c/f>g){j=Math.ceil(j*c/f);f=c}else{f=Math.ceil(f*g/j);j=g}var k=Math.floor((c-f)/2)+"px";var d=Math.floor((g-j)/2)+"px";e.height(j).width(f).css({"margin-top":d,"margin-left":k})}b.fn.getDatagridSelectedIds=function(g){var c=b(this);var f=c.datagrid("getChecked");var e="";for(var d=0;d<f.length;d++){e+=f[d][g]+","}if(e.length>0){e=e.substr(0,e.length-1)}return e};b.fn.DropDown=function(j){var c=b(this).eq(0);if(c.length==0){return}var e=c.dataOptions();b.extend(e,j);e.action=!e.action?"click":(e.action=="mouseenter"?"mouseenter":"click");e.hideaction=e.action=="mouseenter"?"mouseleave":"click";if(!e){return}c.css({position:"relative"});var d=c.find("#"+e.dropid);var h=d.outerWidth()-d.width();d.hide();d.css({position:"absolute",top:(c.outerHeight()-2)+"px",left:"0px","min-width":(c.outerWidth()-h)+"px","z-index":9999});var f=function(){d.unbind().stop().slideUp("fast");d.removeClass("open");c.unbind(e.hideaction)};var g=function(){if(d.hasClass("open")){if(e.action=="click"){f();return}}d.stop().slideDown("fast").addClass("open");d.one("mouseleave",f);if(e.action=="mouseenter"){c.one(e.hideaction,f)}if(e.hidebyclick){d.one("click",f)}};c.bind(e.action,g)};b.fn.AccordionFrame=function(f){var d=b(this);var g=d.find(">*");g.each(function(){var j=b(this).dataOptions();var h=b('<div class="fm_AccordionBar"><i class="fa fa-angle-down"></i> '+(j.title||"")+"</div>");b(this).before(h);j.open?h.addClass("open").find("i").attr("class","fa fa-angle-up"):b(this).hide()});var e=d.find(">div.fm_AccordionBar");if(e.length==0){e.eq(0).addClass("open").find("i").attr("class","fa fa-angle-up");g.eq(0).show()}var c=function(){var h=e.index(b(this));if(b(this).hasClass("open")){b(this).removeClass("open").find("i").attr("class","fa fa-angle-down");g.eq(h).hide();return}if(f){e.removeClass("open").find("i").attr("class","fa fa-angle-down");g.hide()}b(this).addClass("open").find("i").attr("class","fa fa-angle-up");g.eq(h).show()};e.bind("click",c)}})(jQuery);function getDateString(a){if(!a){a=new Date()}return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}function delHostUrl(htmlStr){var host=window.location.href.split("://")[0]+"\\:\\/\\/"+window.location.host.replace(/\:/g,"\\:");host="/"+host+"/g";htmlStr=htmlStr.replace(eval(host),"");return htmlStr}function trim(a){if(isNull(a)){return""}return(a+"").replace(/^\s*|\s*$/g,"")}function delBlank(a){if(isNull(a)){return""}return(a+"").replace(/(\s+)$/g,"").replace(/\s+/g,"")}function delHtmlTag(a){return a.replace(/<[^>]+>/g,"")}function delReturn(a){a=a.replace(/[\n]/ig,"");a=a.replace(/[\r]/ig,"");return a}function addCookie(e,a,d){var f=e+"="+escape(a);d=d?d:0;if(d>0){var c=new Date();var b=d*3600*1000;c.setTime(c.getTime()+b);f+="; expires="+c.toGMTString()}document.cookie=f+"; path=/"}function getCookie(c){var d=document.cookie.split("; ");for(var b=0;b<d.length;b++){var a=d[b].split("=");if(a[0]==c){return unescape(a[1])}}}function delCookie(b){var a=new Date();a.setTime(a.getTime()-10000);document.cookie=b+"=a; expires="+a.toGMTString()+"; path=/"}function allCookie(){var a=document.cookie;return a}function saveToLocal(b,c){var a=(typeof c=="string")?c:JSON.stringify(c);if(!window.localStorage){addCookie(b,a,5*365*24);return}var d=window.localStorage;d.setItem(b,a)}function readFromLocal(b){var a="";if(!window.localStorage){a=getCookie(b)}else{var d=window.localStorage;a=d.getItem(b)}try{a=JSON.parse(a)}catch(c){}return a}function removeLocal(a){if(!window.localStorage){delCookie(a)}else{var b=window.localStorage;b.removeItem(a)}}function stopPP(b){var a=b||window.event;a.stopPropagation?a.stopPropagation():(a.cancelBubble=true)}function HTMLEncode(c){var b=document.createElement("div");(b.textContent!=null)?(b.textContent=c):(b.innerText=c);var a=b.innerHTML;b=null;return a}function formatHtml(f){try{var b=$(f);var a=$("<div></div>");a.append(b);var c=a.html();a.empty().remove();a=null;return c}catch(d){return""}}function Html2Str(d){try{var a=$("<div></div>");a.text(d);var b=a.text();a.empty().remove();a=null;return b}catch(c){return""}}function formatSqlStr(c){try{var a=c.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;");return a}catch(b){console.log(b)}return""}function HTMLDecode(c){var b=document.createElement("div");b.innerHTML=c;var a=b.innerText||b.textContent;
b=null;return a}function creatCode(a,c){var f="";var b=new Date();f=""+b.getTime();f=f.substr(c,f.length);f=Math.floor(100*Math.random())+""+f;var e="";for(var d=0;d<f.length;d++){if(d%2==0){e+=a.substr(f[d],1)}else{e+=f[d]+""}}return e}function delSelect(a){$("select[name="+a+"]").find("option").each(function(){if($(this).get(0).selected==true){$(this).remove()}})}function delSelectOption(a){a.find("option").each(function(){if($(this).get(0).selected==true){$(this).remove()}})}function mergeJson(a){try{return $.extend({},a)}catch(b){return null}}function cloneJson(a){try{return JSON.parse(JSON.stringify(a))}catch(b){try{return $.extend(true,{},a)}catch(b){return null}}}function inArray(a,b){for(i=0;i<a.length;i++){if(a[i]==b){return true;break}}return false}function getDateFromStr(c){if(!c||c==""){return null}var a=c.split("-");var b=new Date();if(a[0]){b.setYear(parseInt(a[0]))}if(a[1]){b.setMonth(parseInt(a[1]-1))}if(a[2]){b.setDate(parseInt(a[2]))}return b}function getDateStingForce2(a){return a.getFullYear()+"-"+formatTo2((a.getMonth()+1))+"-"+formatTo2(a.getDate())}function getDateTimeStingForce2(a){return a.getFullYear()+"-"+formatTo2((a.getMonth()+1))+"-"+formatTo2(a.getDate())+" "+formatTo2(a.getHours())+":"+formatTo2(a.getMinutes())+":"+formatTo2(a.getSeconds())}function formatTo2(a){a="0"+a;return a.substr(a.length-2,2)}function getObjectValue(b){if(typeof b=="string"){if(b.indexOf("[")==0||b.indexOf("{")==0){b=b.replace(/\'/g,'"');try{b=JSON.parse(b)}catch(a){b=null}}else{if(b===""){b=null}else{b=b.split(",")}}}return b}function getArrayFromString(a,b){if(a==""){return[]}if(typeof a=="string"){b=b?b:",";if(a.indexOf("[")==0){try{return JSON.parse(a)}catch(c){return a.split(b)}}else{return a.split(b)}}else{if($.isArray(a)){return a}}return[]}function cutArrayStringTail(a){if(a.length==0){return a}while(a.substr(a.length-1,1)==","){a=a.substr(0,a.length-1)}return a}function getQueryString(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i");var c=decodeURI(window.location.search).substr(1).match(b);if(c!=null){return unescape(c[2])}return null}function delInputHtml(){var a=$(this);a.css("opacity",0.01);setTimeout(function(){var b=trim(a.html()+"");b=clearHtml(b);a.html(b);a.css("opacity",1)},30)}function clearHtml(html){var tempDIv=$("<div></div>");var replaceArr=["/\\<\\/div\\>\\<div\\>/g","/\\<\\/DIV\\>\\<DIV\\>/g","/\\<div\\>/g","/\\<DIV\\>/g","/\\<\\/div\\>/g","/\\<\\/DIV\\>/g","/\\<\\/p\\>\\<p\\>/g","/\\<\\/P\\>\\<P\\>/g","/\\<br\\>/g","/\\<BR\\>/g","/\\<br\\/\\>/g","/\\<BR\\/\\>/g"];str=html;if(browserIsOpera){str=str.replace(/\<div\>\<br\>\<\/div\>/g,"###br###");str=str.replace(/\<div\>\<br\/\>\<\/div\>/g,"###br###")}for(var i=0;i<replaceArr.length;i++){str=str.replace(eval(replaceArr[i]),"###br###")}tempDIv.html(str);str=tempDIv.text()+"";str=str.replace(/###br###/g,"<br/>");tempDIv=null;return str}function formatHtml(html){var replaceArr=["/\\<\\/div\\>\\<div\\>/g","/\\<\\/DIV\\>\\<DIV\\>/g","/\\<div\\>/g","/\\<DIV\\>/g","/\\<\\/div\\>/g","/\\<\\/DIV\\>/g","/\\<\\/p\\>\\<p\\>/g","/\\<\\/P\\>\\<P\\>/g","/\\<br\\>/g","/\\<BR\\>/g","/\\<br\\/\\>/g","/\\<BR\\/\\>/g"];str=html;if(browserIsOpera){str=str.replace(/\<div\>\<br\>\<\/div\>/g,"###br###");str=str.replace(/\<div\>\<br\/\>\<\/div\>/g,"###br###")}for(var i=0;i<replaceArr.length;i++){str=str.replace(eval(replaceArr[i]),"###br###")}str=Html2Str(str);str=formatSqlStr(str);str=str.replace(/###br###/g,"<br/>");return str}function isNull(a){return(a==null||typeof a=="undefined")?true:false}function getObjectName(c){for(var b in window){if(window[b]==c){return(b.toString());break}}return null}function compare(o,m){var r=/undefined|number|string|boolean/,l=/^(function\s*)(\w*\b)/,j="constructor",n="childNodes",g="parentNode",c=arguments.callee;if(o===null&&m===null){return true}if(r.test(typeof o)||r.test(typeof m)||o===null||m===null){var f=(o===null||typeof o=="undefined")?"":o;var p=(m===null||typeof m=="undefined")?"":m;return f.toString()===p.toString()}if(o[j]!==m[j]){return false}switch(o[j]){case Date:return o.valueOf()===m.valueOf();case Function:return o.toString().replace(l,"$1")===m.toString().replace(l,"$1");case Array:if(o.length!==m.length){return false}for(var h=0;h<o.length;h++){if(!c(o[h],m[h])){return false}}break;default:var e=0,q=0,k;if(o===m){return true}if(o[n]||o[g]||m[n]||m[g]){return o===m}for(k in o){e++}for(k in m){q++}if(e!==q){return false}for(k in o){if(!c(o[k],m[k])){return false}}break}return true}function destroyDom(a){if(!a){return}a.each(function(){var b=$(this).get(0);$("*",b).add([b]).each(function(){$.event.remove(this);$.removeData(this)});b.innerHTML=""})}function flashChecker(){var a=0;var b=0;if(document.all){var d;try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(f){return{f:0,v:0}}if(d){a=1;VSwf=d.GetVariable("$version");b=parseInt(VSwf.split(" ")[1].split(",")[0])}else{return{f:0,v:0}}}else{if(navigator.plugins&&navigator.plugins.length>0){var d=navigator.plugins["Shockwave Flash"];if(d){a=1;
var g=d.description.split(" ");for(var c=0;c<g.length;++c){if(isNaN(parseInt(g[c]))){continue}b=parseInt(g[c])}}}}return{f:a,v:b}}function supportCss(d){var f=["webkit","Moz","ms","o"],c,e=[],a=document.documentElement.style,b=function(g){return g.replace(/-(\w)/g,function(j,h){return h.toUpperCase()})};for(c in f){e.push(b(f[c]+"-"+d));e.push(b(d))}for(c in e){if(e[c] in a){return true}}return false}function getPicRealSize(d){var b=new Image();b.src=d.attr("src");var c=b.width;var a=b.height;b=null;return{width:c,height:a}}function isScroll(a){if(a.get(0).style.overflow=="hidden"||a.get(0).style.overflowY=="hidden"){return false}var b=a.scrollTop();if(b>0){return true}a.scrollTop(10);b=a.scrollTop();if(b>0){a.scrollTop(0);return true}return false}function getScrollBarWidth(){var c=$("<div></div>");c.height($(window).height()+100);$("body").append(c);$("body").hide();var b=$(window).width();$("body").show();var a=$(window).width();c.remove();c=null;return b-a}function fillWraperFont(a,b){var c=this;this.option={min:1,max:9999,length:1};this.install=function(){$.extend(c.option,b);c.resize()};this.resize=function(){var e=a.width();e=Math.floor(e/c.option.length);var g=a.height();if(e==0||g==0){return}var f=Math.floor(Math.min(e,g));f=(f<c.option.min)?c.option.min:(f>c.option.max)?c.option.max:f;var d=g+"px";a.css({"font-size":f+"px","line-height":d})};this.install()}function dateDiff(c,h,f){var d={D:1000*60*60*24,H:1000*60*60,M:1000*60,S:1000,T:1};c=c.toUpperCase();var b=Date.parse(h.replace(/-/g,"/"));var a=Date.parse(f.replace(/-/g,"/"));try{return Math.round((a-b)/d[c])}catch(g){return g.message}}function checkArrayDeep(e,a,g){a=a||"children";var b=g||1;var c=b;var f=false;for(var d=0;d<e.length;d++){if(e[d][a]&&e[d][a].length>0){if(!f){b++;c++;f=true}b=Math.max(b,checkArrayDeep(e[d][a],a,c))}}return b}(function(n,p,u){var w=n([]),s=n.resize=n.extend(n.resizediv,{}),o,l="setTimeout",m="resizediv",t=m+"-special-event",v="delay",r="throttleWindow";s[v]=250;s[r]=true;n.event.special[m]={setup:function(){if(!s[r]&&this[l]){return false}var a=n(this);w=w.add(a);n.data(this,t,{w:a.width(),h:a.height()});if(w.length===1){q()}},teardown:function(){if(!s[r]&&this[l]){return false}var a=n(this);w=w.not(a);a.removeData(t);if(!w.length){clearTimeout(o)}},add:function(b){if(!s[r]&&this[l]){return false}var c;function a(d,h,g){var f=n(this),e=n.data(this,t);if(!e){return}e.w=h!==u?h:f.width();e.h=g!==u?g:f.height();c.apply(this,arguments)}if(n.isFunction(b)){c=b;return a}else{c=b.handler;b.handler=a}}};function q(){o=p[l](function(){w.each(function(){var d=n(this),a=d.width(),b=d.height(),c=n.data(this,t);if(c&&(a!==c.w||b!==c.h)){d.trigger(m,[c.w=a,c.h=b])}});q()},s[v])}})(jQuery,this);function getIndex(a){if(typeof ZINDEX=="object"){return ZINDEX[a]||99999}return 99999}(function(c){c.extend({alert:function(d){b(d)},confirm:function(d,e){b(d,"confirm",e)},success:function(d){b(d,"success")},errormsg:function(d){b(d,"error")},loading:function(e,d){var f=new loadingRoll();if(e){setTimeout(function(){try{f.destroy()}catch(g){}},e)}f.show(d)},loaded:function(){c(document).trigger("CLEAR_MASK").trigger("HIDE_LOADING")},progress:function(d,f){var h=c("#fm_loading");if(h.length==0){h=new loadingRoll();h.show(f)}else{h=h.data("loadobj")}try{h.progress(d)}catch(g){}},message:function(f,e){e=e>0?e:2000;c("#fm_popShowMessage").stop().remove();var d=c('<div id="fm_popShowMessage">'+HTMLDecode(f)+"</div>");c("body").append(d);d.css({position:"fixed",bottom:"0px",padding:"8px",width:"70%","text-align":"center","z-index":getIndex("messager"),"background-color":"#000",color:"#fff","border-radius":"4px",opacity:0,"font-size":"12px","max-width":"800px","box-shadow":"0px 0px 5px #000","max-height":(c(window).height()-100)+"px","overflow-y":"auto","overflow-x":"hidden"});d.css("left",((c(window).width()-d.outerWidth(true))/2)+"px");d.animate({bottom:"50px",opacity:0.7},800).delay(e).fadeOut("slow",function(){d.stop().remove()}).bind("mousedown",function(){d.stop().remove()})},lockMask:function(e,g,f){var d=new popMask(e);f?d.name=f:null;if(g){setTimeout(d.destroy,g)}return d},clearMask:function(d){c(".fm_Mask").each(function(){try{var f=c(this).data("obj");if(f.name==d){f.destroy();c(this).del()}}catch(g){}})},clearAllMask:function(){c(".fm_Mask").each(function(){try{var d=c(this).data("obj");d.destroy()}catch(f){}c(this).del()})},popMessage:function(g,h,e,k,d,j){var f=new popOutSelfMsg(g,h,e,k,d,j)},clearPopMessage:function(){c(document).trigger("HIDE_MSG")},slideUpMessage:function(j,r,l,o,d,k){d=d?d:0;var p=getIndex("popMsg");var f=c("body").find(".fm_slideUpMsgWindow"+(k?("#"+k):""));if(f.length>0){try{f.data("destroy")()}catch(h){}f.remove();f=null}f=c('<div class="fm_slideUpMsgWindow" id="'+k+'"><div class="fm_slmsgTitle bkflash"><a  style="float:right"><i class="fa fa-remove"/></a><i class="fa fa-comment"/>\u6d88\u606f\u63d0\u9192</div><div class="fm_slmsgContent" style="overflow:hidden"></div></div>');f.css({position:"fixed",right:d+"px",bottom:"0px","z-index":p});
c("body").append(f);var g=f.find(".fm_slmsgContent");g.append(j);g.height(0).width(r[0]).animate({height:r[1]},600);var q;var n;if(o){var q=new popMask(p-1)}var m=function(t,s){if(s&&s.msgId&&k&&s.msgId!=k){return}if(n){clearTimeout(n);n=null}if(!f){return}if(q){q.destroy();q=null}c(document).unbind("HIDE_SLIDE_MSG",m);g.stop().del();f.del();f=null};f.data({destroy:m,id:k});c(document).bind("HIDE_SLIDE_MSG",m);f.find(".fm_slmsgTitle a").bind("click",m);if(l>0){n=setTimeout(m,l)}},closeSlideUpMessage:function(d){c(document).trigger("HIDE_SLIDE_MSG",{msgId:d})},closetips:function(){c(".fm_popShowTips").stop().each(function(){try{var f=c(this);f.data("destroy")()}catch(d){}c(this).del()})},tips:function(k,q,l,p,m){m=m?m:2000;var r;var o;if(!k){return}if(k.html||k.innerHTML){try{var j=c(k).getBounce();switch(q){case"left":r=[j.x,Math.floor(j.y+j.h/2)];break;case"right":r=[j.x+j.w,Math.floor(j.y+j.h/2)];break;case"top":r=[Math.floor(j.x+j.w/2),j.y];break;case"bottom":r=[Math.floor(j.x+j.w/2),j.y+j.h];break}}catch(u){return}}else{if(c.isArray(k)){r=k}else{return}}c.closetips();q=q?q:"top";var f=c('<div class="fm_popShowTips"><div class="relpos"></div></div>');var g=c('<div class="fm_arrow arrow_'+q+'"></div></div>');var x=c('<span><i class="fa fa-remove"></i></span>');f.find(".relpos").append(g).append(x);var s=c('<div class="fm_tipsContent" style="padding:8px"></div>');l=(typeof l=="function")?l():l;(typeof l=="object")?s.append(l):s.html(l+"");c("body").append(f);f.append(s);if(p){p[0]?s.width(p[0]):null;p[1]?s.height(p[1]):null}else{s.getFitSize(4/3,80)}f.css({position:"absolute","z-index":getIndex("tips")});g.css({position:"absolute"});x.css({position:"absolute",cursor:"pointer",display:"block",width:"16px",height:"16px","line-height":"16px","font-size":"14px","text-align":"center",color:"#e68546"}).find("i").css({cursor:"pointer"});var h=g.outerWidth()-1;var n=g.outerHeight();var d={w:f.outerWidth(),h:f.outerHeight()};switch(q){case"left":f.css({left:(r[0]-d.w-h)+"px",top:Math.floor(r[1]-d.h/2)+"px"});g.css({top:Math.floor((d.h-n)/2)+"px",right:-h+"px"});x.css({top:"0px",left:"2px"});break;case"right":f.css({left:(r[0]+h)+"px",top:Math.floor(r[1]-d.h/2)+"px"});g.css({top:Math.floor((d.h-n)/2)+"px",left:-h+"px"});x.css({top:"1px",right:"2px"});break;case"top":f.css({left:Math.floor(r[0]-d.w/2)+"px",top:(r[1]-d.h-n)+"px"});g.css({left:Math.floor((d.w-h)/2)+"px",top:(d.h-1)+"px"});x.css({top:"1px",right:"2px"});break;case"bottom":f.css({left:Math.floor(r[0]-d.w/2)+"px",top:(r[1]+n)+"px"});g.css({left:Math.floor((d.w-h)/2)+"px",top:-n+"px"});x.css({top:(d.h-3-x.outerHeight())+"px",right:"1px"});break}var t=function(y){y.stopPropagation()};var w=function(){if(o){clearTimeout(o);o=null}if(f){f.css({opacity:0}).del();f=null}c(window).unbind("resize",w).unbind("scroll",w);c(document).unbind("mousedown",w).unbind("mouseup",w).unbind("CLEAR_MASK")};var v=function(){f.css("opacity",0);o=setTimeout(w,1000)};f.data("destroy",w);o=setTimeout(v,m);f.css({opacity:1}).bind("mousedown",t).bind("mouseup",t).bind("mouseenter",function(){if(o){clearTimeout(o);o=null}}).bind("mouseleave",function(){o=setTimeout(v,m)});c(window).one("resize",w).one("scroll",w);c(document).one("mousedown",w).one("mouseup",w);x.one("click",w)}});c.fn.Tips=function(g,j,f,h,e){g=g?g:"mouseenter";var d=c(this);f=f?f:"right";d.bind(g,function(){c.closetips();c.tips(d,f,j,h);if(!e){d.unbind("mouseleave").one("mouseleave",c.closetips)}})};c.fn.ZoomBigPic=function(){c(this).unbind("click").bind("click",function(){var d=c(this).is("img")?c(this):c(this).find("img:eq(0)");var f=d.attr("src");var e=d.attr("title");if(f){new showPopBigPic(f,e)}return false})};c.fn.getFitSize=function(f,g){f=f?f:(4/3);g=g?g:60;var e=c(this);e.width("auto").height("auto");var d=e.width();if(d<=g){e.width(g);return}while(e.width()/e.height()>f){d-=10;if(d<=g){e.width(g);break}else{e.width(d)}}e.css("overflow-y","auto")};function a(h,f){var e="";switch(f){case"confirm":e="fa fa-question-circle";break;case"success":e="fa fa-check-circle";break;case"alert":e="fa fa-exclamation-circle";break;case"error":e="fa fa-times-circle";break;default:e="fa fa-warning";break}var g=c('<div class="fm_alertContentDiv '+f+'"><i class="'+e+'"></i></div>');var d=c("<div></div>");h=HTMLDecode(h).replace(/\n/g,"<br/>");d.html(h);g.append(d).append(c('<p><a class="confirmbut" >\u786e\u5b9a</a>'+(f=="confirm"?'<a class="cancelbut" >\u53d6\u6d88</a>':"")+"</p>"));return g}function b(e,g,l){var m=new popMask(getIndex("messager")-1);var k=a(e,g||"alert");c("body").append(k);k.getFitSize(c(window).width()/c(window).height(),180);var h=new dragDivObj();h.install(k,k);var d=new CenterInWindow(k);k.css("z-index",getIndex("messager"));var f=function(n){if(!k){c(document).unbind("keydown",f);return}if(n.keyCode==13||n.keyCode==27){j(n.keyCode==13)}};var j=function(n){c(document).unbind("keydown",f);h.stopDrag();h=null;d.destroy();d=null;k.remove();k=null;m.destroy();m=null;if(typeof l=="function"){l(n)}};c(document).one("keydown",f);
k.find("p a").bind("click",function(){j(c(this).hasClass("confirmbut"))})}})(jQuery);function popMask(b,c){var e=this;this.mask=$('<div class="fm_Mask"></div>');this.mask.data("obj",e);this.name=c||"mask";this.install=function(){$("body").append(e.mask);e.mask.hide().css({position:"fixed",top:"0px",left:"0px","z-index":b||999});a();e.mask.fadeIn("normal");$(window).bind("resize",a).one("CLEAR_MASK",e.destroy);e.mask.bind("mousewheel",d)};function d(f){f.stopPropagation();f.preventDefault()}this.hide=function(){e.mask.stop(true,true).hide()};this.show=function(){e.mask.stop(true,true).show()};function a(){if(!e.mask){e.destroy();return}var f=$(window).width();var g=$(window).height();e.mask.width(f).height(g)}this.destroy=function(){$(window).unbind("resize",a).unbind("CLEAR_MASK",e.destroy);if(!e.mask){return}e.mask.unbind();e.mask.fadeOut("normal",function(){e.mask.remove();e.mask=null})};this.install()}function CenterInWindow(g,h){var f=this;var d=true;var e=[];this.install=function(){h=h?h:[0.5,0.5];g.css({position:"fixed"});a();d=false;$(window).bind("resize",b)};this.destroy=function(){$(window).unbind("resize",b)};var c;function b(){if(c){clearTimeout(c);c=null}c=setTimeout(a,100)}function a(){var j=$(window).width();var k=$(window).height();if(typeof h[0]=="string"){if(h[0]=="right"){e[0]=j-g.outerWidth(true)}else{e[0]=0}}else{e[0]=h[0]>1?h[0]:j*h[0];e[0]-=(g.outerWidth(true)/2)}if(typeof h[1]=="string"){if(h[1]=="bottom"){e[1]=k-g.outerHeight(true)}else{e[1]=0}}else{e[1]=h[1]>1?h[0]:k*h[0];e[1]-=(g.outerHeight(true)/2)}e[1]=e[1]>0?e[1]:0;if(d){g.css({left:Math.floor(e[0])+"px",top:Math.floor(e[1])+"px"})}else{g.stop().animate({left:Math.floor(e[0])+"px",top:Math.floor(e[1])+"px"},500)}}this.install()}function popOutSelfMsg(f,g,k,c,j){var l;var d;var e;var b=this;var a;var h=j||getIndex("tips");this.show=function(){b.destroy();if(!c){d=new popMask(h-1)}l=$('<div id="fm_popMsgContainer"></div>');l.css({position:"fixed","z-index":h,"min-height":"40px","min-width":"40px","background-color":"#fff","border-radius":"6px",padding:"8px","box-shadow":"0px 0px 3px #666",overflow:"auto"});$("body").append(l);l.append(f);if(k){l.setRealSize(k[0],k[1])}a=new CenterInWindow(l);l.data("msgobj",b).hide().fadeIn("slow");$(document).one("HIDE_MSG",b.destroy);if(g&&g>0){e=setTimeout(b.destroy,g)}return l};this.destroy=function(){$(document).unbind("HIDE_MSG",b.destroy);if(e){clearTimeout(e);e=null}if(a){a.destroy()}if(l){l.del();l=null}if(d){d.destroy();d=null}};b.show()}function loadingRoll(){var h;var b;var c;var g=1;var a;var e=this;var d;this.show=function(j){e.destroy();if(!j){c=new popMask(getIndex("loadingMask"))}b=$('<div id="fm_loading"></div>');b.css({position:"fixed","z-index":"9999",height:"40px",width:"40px","background-color":"#000","border-radius":"8px",opacity:"0.7","background-repeat":"no-repeat","background-position":"center 0px",overflow:"hidden"});$("body").append(b);d=new CenterInWindow(b);b.data("loadobj",e).hide().fadeIn("slow");h=setInterval(f,66);$(document).one("HIDE_LOADING",e.destroy)};this.progress=function(j){var k=b.find(".fm_progress");if(k.length==0){k=$('<div class="progressBar"><div></div></div>');b.append(k);b.css({overflow:"visible"});k.css({position:"relative",height:"20px"}).find(">div").css({position:"absolute","text-align":"center",margin:"0px",padding:"3px","padding-left":"15px","padding-right":"15px","border-radius":"15px","line-height":"18px",color:"#fff","background-color":"#000",opacity:1,top:(b.height()+10)+"px","min-width":"140px","max-width":"600px"})}k.find(">div").text(j);k.find(">div").css({left:-Math.floor((k.find(">div").outerWidth()-b.outerWidth())/2)+"px"})};function f(){b.css("background-position","center "+(g*-40)+"px");g=(g+1)%12}this.destroy=function(){$(document).unbind("HIDE_LOADING",e.destroy);if(a){clearTimeout(a);a=null}if(d){d.destroy()}if(b){b.del();b=null}if(c){c.destroy();c=null}if(h){clearInterval(h);h=null}}}function LoadingProgress(c,e){var f=this;var b;var a;var d;this.showLoading=function(){$("#fm_loadingbar").del();if(!d){d=$("<div id='fm_loadingbar'></div>");$("body").append(d);d.addClass("waiting")}d.show().width((50+Math.random()*30)+"%")};this.progress=function(){if(!d){return}d.width("101%").delay(200).fadeOut(400,function(){d.hide().width(0)})};this.destroy=function(){if(d){d.remove();d=null}}}function showPopBigPic(a,l){var c=this;var f;var e;var o;var q;var j=0.9;var b;var m;var h;var d=0;this.install=function(){q=new popMask(getIndex("image"));f=$('<img src="'+a+'"/>');f.css({position:"fixed",border:"1px solid #CCC","box-shadow":"2px 2px 8px #666666","z-index":getIndex("image")+1,opacity:0,transition:"opacity 0.5s,transform 0.5s","background-color":"#fff"});$("body").append(f);if(supportCss("transform")||l){h=$('<div class="bigPicTitle">'+(supportCss("transform")?'<a id="rotationLeft"><i class="fa fa-undo"></i></a><a id="rotationRight"><i class="fa fa-repeat"></i></a>':"")+'<a id="closePicBut"><i class="fa fa-remove"></i></a></div>');h.css({position:"fixed",bottom:"0px",left:"0px",right:"0px",padding:"4px","z-index":getIndex("image")+2,"text-align":"center","background-color":"#333",opacity:0.8});
h.find("a").css({"border-radius":"120px",color:"#FFF","font-size":"16px",padding:"4px","line-height":"22px","background-color":"#000","margin-left":"3px",display:"inline-block",width:"22px",height:"22px","vertical-align":"middle"}).bind("click",n);if(l){var p=$("<div>"+l+"</div>");h.prepend(p);p.css({"border-radius":"120px",color:"#CCC",padding:"4px","line-height":"22px","background-color":"#000",margin:"auto","padding-left":"30px","padding-right":"30px",display:"inline-block","max-width":"70%","vertical-align":"middle"})}$("body").append(h)}else{b=$('<div class="closePicBut"></div>');q.mask.append(b)}q.mask.bind("click",c.destroy);f.bind("dblclick",g);f.bind("load",c.resetSize);f.bind("mousewheel",k);f.fadeIn("normal");$(window).bind("resize",c.resetSize);m=new dragDivObj();m.install(f,f)};function n(){switch($(this).attr("id")){case"rotationRight":d+=90;d=d==360?360:d;f.css({transform:"rotate("+d+"deg)"});break;case"rotationLeft":d-=90;d=d==360?360:d;f.css({transform:"rotate("+d+"deg)"});break;case"closePicBut":c.destroy();break}}function k(u,z){var r=z;var v=$(this);var t=0.1;var x=(d%180==0);var A=v.width();var w=v.height();var s={left:parseInt(v.css("left").replace("px","")),top:parseInt(v.css("top").replace("px",""))};var p=Math.floor(v.width()*(1+z*t));p=(p<32)?32:p;v.width(p);v.height("auto");var y=v.height();x?v.css({left:(s.left-Math.floor((p-A)/2))+"px",top:(s.top-Math.floor((y-w)/2))+"px"}):v.css({left:(s.left-Math.floor((y-w)/2))+"px",top:(s.top-Math.floor((p-A)/2))+"px"});return false}function g(){window.open(a)}this.resetSize=function(){e=$(window).width();o=$(window).height();var t=f.width();var w=f.height();var s=e/o;var v=Math.floor(e*j);var r=Math.floor(o*j);var u=Math.floor(e*(1-j)/2);var p=Math.floor(o*(1-j)/2);if(t<=v&&w<=r){f.height(w).width(t).css({left:Math.floor((e-f.width())/2)+"px",top:Math.floor((o-f.height())/2)+"px"})}else{if((t/w)<s){f.height(r).width("auto").css({left:Math.floor((e-f.width())/2)+"px",top:p+"px"})}else{f.width(v).height("auto").css({top:Math.floor((o-f.height())/2)+"px",left:u+"px"})}}f.css("opacity",1)};this.destroy=function(){$(window).unbind("resize",c.resetSize);f.unbind().fadeOut("normal",function(){f.del()});if(h){h.del();h=null}q.destroy();m.destroy()};this.install()}function creatPostParam(a,e,c,d){var b={event:a,content:{},extend:{}};b.content={};b.content["condition"]=e||{};b.content["value"]=c||{};b.extend=d||{};return b}function formatPostParam(b){for(var a in b){b[a]=(typeof b[a]=="string")?b[a]:JSON.stringify(b[a])}return b}function formatHostJson(a){if(a){if(a.value){return a.value}else{checkResponse(a);return a}}return null}function sessionListener(){$.ajaxSetup({global:true,beforeSend:formatPostVars});$(document).ajaxSuccess(function(c,a,b){if(b.type=="post"){checkResponseStatus(a)}})}function formatPostVars(b,a){if(a.url.toLowerCase().indexOf(".html")<0){a.url+=((a.url.indexOf("?")<0)?("?project="+projectName):("&project="+projectName))}}function checkResponseStatus(c){var a=c.responseText+"";if(a){if(typeof a=="string"){try{a=JSON.parse(a)}catch(b){return true}}checkResponse(a)}return true}function checkResponse(b,a){if(isNull(b.head)||isNull(b.head["code"])){$.message("\u8fd4\u56de\u6570\u636e\u683c\u5f0f\u9519\u8bef!");return false}if(b.head["code"]+""=="1"){b.head["message"]?$.message(b.head["message"],2000):null;return true}else{switch(b.head["code"]+""){case"0":!a?$.errormsg(b.head["message"]||"\u64cd\u4f5c\u5931\u8d25!"):null;break;case"3":!a?$.message(b.head["message"]||"\u64cd\u4f5c\u672a\u5b8c\u6210",2000):null;break;case"8":$.message(b.head["message"]||"\u65e0\u6743\u64cd\u4f5c",2000);break;case"9":logoutDeal(9);break}return false}}function AJAXObj(){var e=this;this.isasync=true;this.silent=false;this.timeout=60000;var d=new LoadingProgress();var a;function b(g,h){if(d){d.destroy()}e.destroy();if(g.status=="success"||g.status=="200"){if(h=="parsererror"){$(e).trigger("SYS_ERROR","\u8fd4\u56de\u6570\u636e\u89e3\u6790\u5931\u8d25!");!e.silent?$.message("\u8fd4\u56de\u6570\u636e\u89e3\u6790\u5931\u8d25!",2000):null}return}switch(g.status.toString()){case"0":$(e).trigger("SYS_ABORT","\u8bf7\u6c42\u88ab\u7ec8\u6b62");break;case"404":$(e).trigger("SYS_ERROR","\u7cfb\u7edf\u9519\u8bef404");!e.silent?$.message("\u7f51\u7edc\u9519\u8bef\uff0c\u53ef\u80fd\u7f51\u7edc\u4e0d\u901a!",2000):null;break;case"500":$(e).trigger("SYS_ERROR","\u7cfb\u7edf\u9519\u8bef500");!e.silent?$.message("\u670d\u52a1\u5668\u9519\u8bef!",2000):null;break;default:$(e).trigger("SYS_ERROR","\u7cfb\u7edf\u9519\u8bef");!e.silent?$.message("\u672a\u77e5\u7f51\u7edc\u9519\u8bef!",2000):null;break}}function f(g){if(checkResponse(g,true)){$(e).trigger("JSON_LOADED",g)}else{$(e).trigger("SYS_ERROR",g.head["message"])}}this.Post=function(g,h){e.POSTDATA(g,h)};this.POSTDATA=function(h,j){e.destroy();if(j){for(var g in j){if(typeof j[g]=="object"){j[g]=JSON.stringify(j[g])}}}a=$.ajax({type:"post",dataType:"json",data:j||{},url:h,async:e.isasync,complete:b,timeout:e.timeout,success:f,beforeSend:c}).always(d.progress)
};function c(h,g){if(g.url.toLowerCase().indexOf(".html")<0){g.url+=((g.url.indexOf("?")<0)?("?project="+projectName):("&project="+projectName))}d.showLoading()}this.destroy=function(){if(a){$(a).unbind();a.abort();a=null}};this.GetHtml=function(h,j){if(!useCache){var g=new Date();g=g.getTime();h+=(h.indexOf("?")<0)?("?i="+g):("&i="+g)}$.ajax({type:"get",dataType:"html",url:h,async:e.isasync,complete:b,success:function(k){if(k.indexOf("{")==0){var l=JSON.parse(k);checkResponse(l);return}$(e).trigger("HTML_LOADED",k)},beforeSend:d.showLoading}).always(d.progress)}}function LoadHtml(a,d,c){var b=new AJAXObj();b.silent=true;$(b).one("HTML_LOADED",function(j,g){g=trim(g+"");var f=g.substr(0,1);if(f=="{"||f=="["){try{var h=JSON.parse(g);checkResponse(h)}catch(j){}return}b.destroy();b=null;c(j,g)}).one("SYS_ERROR",function(f,g){b.destroy();b=null;var h='<script type="text/javascript">function ACTION(){this.READY=function(){}}<\/script><div class="fm_e404"><h1>:( <span>\u51fa\u9519\u5566~~</span></h1><p>\u60a8\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u3002</p><p>URL: '+a+"</p></div>";c(null,h)});b.GetHtml(a)}function ajaxGetSelectOption(g,d,c,a){var e=function(){if(d=="select"){g.empty().append($("<option>--\u6570\u636e\u9519\u8bef--</option>")).addClass("errorload")}else{g.after($("<span>\u6570\u636e\u9519\u8bef</span>")).remove()}c()};var b=function(n,h){var s=h.value;var l=g.attr("name");switch(d){case"select":var m="";if(s.length==0){m+='<option value="" selected="selected">\u65e0</option>'}else{if(g.hasClass("fm_forSelect")){m+='<option value="" selected="selected">\u8bf7\u9009\u62e9</option>'}else{if(g.hasClass("fm_selectAll")){m+='<option value="" selected="selected">\u5168\u90e8</option>'}}var o="";if(a["default"]){if(typeof a["default"]=="object"){m+='<option value="'+a["default"]["value"]+'" selected="selected">'+a["default"]["text"]+"</option>";o+=a["default"]["value"]+","}else{o+=a["default"]+","}}for(var k=0;k<s.length;k++){var j="";if(s[k]["selected"]){j='selected="selected"';o+=s[k]["value"]+","}m+='<option value="'+s[k]["value"]+'" '+j+">"+s[k]["text"]+"</option>"}o=o.length>0?o.substr(0,o.length-1):s[0]["value"]}g.empty().append($(m));if(a.mulit==true){o=(typeof o=="string")?o.split(","):o}else{o=(typeof o=="string")?o.split(",")[0]:o}g.val(o);break;case"radio":var r="";var o=[];if(a["default"]){o=(typeof a["default"]=="string")?a["default"].split(","):a["default"]}for(var k=0;k<s.length;k++){if(s[k]["selected"]){o.push(s[k]["value"])}r+='<label><input type="radio" name="'+l+'" id="'+l+"_"+k+'" value="'+s[k]["value"]+'" />'+s[k]["text"]+"</label>"}var p=$(r);g.after(p).remove();p.find(">input").val(o);break;case"checkbox":var r="";var o=[];if(a["default"]){o=(typeof a["default"]=="string")?a["default"].split(","):a["default"]}for(var k=0;k<s.length;k++){if(s[k]["selected"]){o.push(s[k]["value"])}r+='<label><input type="checkbox" name="'+l+'" id="'+l+"_"+k+'" value="'+s[k]["value"]+'" />'+s[k]["text"]+"</label>"}var q=$(r);g.after(q).remove();q.find(">input").val(o);break;default:g.data("selectdata",s);break}c()};if(!a){e();return}var f=a.param;LoadListData(a,g.attr("name"),f,b,e)}function LoadListData(c,b,h,g,e){if(!c||!c.url){e();return}var d=c.url;var h=$.extend({selecFieldName:b},h||{});var a=creatPostParam(b,h);var f=new AJAXObj();f.silent=true;$(f).one("JSON_LOADED",g).one("SYS_ERROR",e);f.POSTDATA(d,a)}function callHost(a,b){$.ajax({type:"post",data:formatPostParam(b||{}),url:a,async:true})}function loginPage(){var b=this;var a=new AJAXObj();var j;this.install=function(){$("body").html('<div class="login"><div  class="loginbox"><div class="input nam"><input name="u_name" type="text" id="u_name" value="\u8bf7\u8f93\u5165\u7528\u6237\u540d" maxlength="100"/></div><div class="input pws"><input name="u_pass" type="text"  class="pws" id="u_pass"  value="\u8bf7\u8f93\u5165\u5bc6\u7801" size="100"/></div><div class="but"><input type="button" value=" " id="loginbut"/></div><p class="error uname"><span></span></p><p class="error upws"><span></span></p><p class="error sys"><span></span></p> </div></div><div class="foot"><h1></h1><div class="addInfo"></div><p class="copy"></p></div>');document.title=projectTitle;$(".foot h1").html(projectTitle);$(".foot p").text(projectCopyRight);if(typeof loginAddinfo=="undefined"||!loginAddinfo){$(".foot .addInfo").remove()}else{$(".foot .addInfo").html(loginAddinfo)}$(document).ready(g);$(document).ready(d);var p=getCookie("savedUsername");if(p){$("#u_name").addClass("blackText").val(p)}};this.destroy=function(){$(document).unbind("ready",g);$(document).unbind("ready",d)};function g(){$(".login").css({"margin-top":Math.floor($(window).height()/2)+"px"});$("body").height($(window).height()-2);m(true);$(".loginbox input[type='text']").bind("focus",o).bind("blur",k)}function k(){var r=$(this).val()+"";if(f(r)!=""){return}if($(this).attr("name")=="u_name"){$(this).removeClass("blackText").val("\u8bf7\u8f93\u5165\u7528\u6237\u540d")
}else{if($(this).attr("name")=="u_pass"){if(browserIsIE8||browserIsIE7||browserIsIE6){var p=$('<input name="u_pass" type="text"  class="pws" id="u_pass"  value="\u8bf7\u8f93\u5165\u5bc6\u7801" size="100"/>');$(this).after(p).remove();p.bind("focus",o).bind("blur",k)}else{$(this).attr("type","text").removeClass("blackText").val("\u8bf7\u8f93\u5165\u5bc6\u7801")}}}}function m(p){var r=function(){$("body").height($(window).height()-2);var t=$(window).height();var u=$(".login").height();var s=Math.floor((t-u)/2);if(s<0){s=0}if(p==true){$(".login").stop().animate({"margin-top":s+"px"},500);$(window).bind("resize",m)}else{$(".login").stop().animate({"margin-top":s+"px"},500)}if($(window).height()<600){$(".foot").hide()}else{$(".foot").show()}};if(browserIsIE6){if(j){clearTimeout(j)}j=setTimeout(r,100)}else{r()}}function c(p){if(p){$("p.sys").fadeIn("slow").find("span").text(p)}}function d(){$("input").bind("focus",function(){$("p.error").stop().fadeOut("fast");l($(this))}).bind("blur",h);$(document).unbind().bind("keypress",q);$("#loginbut").unbind().bind("click",e).get(0).disabled=false}function e(){var t=true;var r=f($("#u_name").val());var s=f($("#u_pass").val());if($("#u_pass").attr("type")=="text"||s==""){$("p.upws").fadeIn("slow").find("span").text("\u8bf7\u8f93\u5165\u5bc6\u7801");t=false}if(r==""||r=="\u8bf7\u8f93\u5165\u7528\u6237\u540d"){$("p.uname").fadeIn("slow").find("span").text("\u8bf7\u8f93\u5165\u7528\u6237\u540d");t=false}if(t){$("#loginbut").addClass("disable");$("#loginbut").get(0).disabled=true;$(document).unbind("keypress",q);var u=loginPort;var p=creatPostParam("LOGIN",{userId:r,password:s,clientType:"1"},{eventswitch:"submit"});$("#loginbut").removeClass("disable").get(0).disabled=false;$(document).unbind().bind("keypress",q);$(a).one("JSON_LOADED",n).one("SYS_ERROR",function(v,w){c("\u767b\u5f55\u5931\u8d25,"+w+".")});a.POSTDATA(u,p);addCookie("savedUsername",r,1*365*24)}}function n(s,r){$("#loginbut").removeClass("disable").get(0).disabled=false;$(document).unbind().bind("keypress",q);var p=r.value["status"];if(p=="ok"){window.location="index.html"}else{c("\u767b\u5f55\u5931\u8d25,"+p+".")}}function q(r){var s=r||window.event;var p=s.keyCode||s.which;if(p==13){e()}}function f(p){return(p+"").replace(/(\s+)$/g,"").replace(/\s+/g,"")}function o(){if(!$(this).hasClass("blackText")){$(this).addClass("blackText").val("").unbind("click");if($(this).hasClass("pws")||$(this).attr("name")=="u_pass"){if(browserIsIE8||browserIsIE7||browserIsIE6){var p=$('<input name="u_pass" type="password"  class="pws" id="u_pass"  value="" size="100"/>');$(this).after(p).remove();p.focus().bind("focus",function(){$("p.error").stop().fadeOut("fast");l($(this))}).bind("blur",h).bind("blur",k)}else{$(this).attr("type","password")}}}}function h(){$(this).parent().removeClass("focus")}function l(p){p.parent().addClass("focus")}};